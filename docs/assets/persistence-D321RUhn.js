const y=(e,r)=>{const t=e.__vccOpts||e;for(const[n,i]of r)t[n]=i;return t},d="ti.roster.v2",h="ti.roster.v1",a="crepewithmarzipan",l={name:"crepewithmarzipan",id:"crepewithmarzipan"};function g(e){const r=new Map;for(const n of e){const i=String(n.id||"").trim(),o=String(n.name||"").trim();!i||!o||r.set(i.toLowerCase(),{name:o,id:i})}r.has(a)||r.set(a,l);const t=[];r.has(a)&&t.push(r.get(a));for(const[n,i]of r)n!==a&&t.push(i);return t}function S(){try{const e=localStorage.getItem(d);if(e){const r=JSON.parse(e);if(Array.isArray(r))return g(r.map(t=>({name:String((t==null?void 0:t.name)??"").trim(),id:String((t==null?void 0:t.id)??"").trim()})).filter(t=>t.name.length>0&&t.id.length>0))}}catch{}try{const e=localStorage.getItem(h);if(!e)return[];const r=JSON.parse(e),t=Array.isArray(r)?r.filter(n=>typeof n=="string"):[];return g(t.map(n=>({name:n,id:n})))}catch{return[]}}function w(e){try{const r=e.map(o=>({name:String(o.name??"").trim(),id:String(o.id??"").trim()})).filter(o=>o.name.length>0&&o.id.length>0),t=new Set,n=[];for(const o of r){const c=o.id.toLowerCase();t.has(c)||(t.add(c),n.push(o))}const i=g(n);localStorage.setItem(d,JSON.stringify(i))}catch{}}function A(e){if(!Array.isArray(e)||!e.length)return;const t=S().filter(s=>s.id.toLowerCase()!==a),n=[],i=new Set;for(const s of e){const u=String((s==null?void 0:s.name)??"").trim(),f=String((s==null?void 0:s.id)??"").trim();if(!u||!f)continue;const m=f.toLowerCase();m!==a&&(i.has(m)||(i.add(m),n.push({name:u,id:f})))}const o=new Set(n.map(s=>s.id.toLowerCase())),c=t.filter(s=>!o.has(s.id.toLowerCase())),p=[l,...n,...c];w(p)}export{y as _,A as a,S as g,w as s};
