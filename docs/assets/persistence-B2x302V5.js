const d=(o,r)=>{const t=o.__vccOpts||o;for(const[n,s]of r)t[n]=s;return t},m="ti.roster.v2",f="ti.roster.v1",i="crepewithmarzipan",g={name:"crepewithmarzipan",id:"crepewithmarzipan"};function a(o){const r=new Map;for(const n of o){const s=String(n.id||"").trim(),e=String(n.name||"").trim();!s||!e||r.set(s.toLowerCase(),{name:e,id:s})}r.has(i)||r.set(i,g);const t=[];r.has(i)&&t.push(r.get(i));for(const[n,s]of r)n!==i&&t.push(s);return t}function p(){try{const o=localStorage.getItem(m);if(o){const r=JSON.parse(o);if(Array.isArray(r))return a(r.map(t=>({name:String((t==null?void 0:t.name)??"").trim(),id:String((t==null?void 0:t.id)??"").trim()})).filter(t=>t.name.length>0&&t.id.length>0))}}catch{}try{const o=localStorage.getItem(f);if(!o)return[];const r=JSON.parse(o),t=Array.isArray(r)?r.filter(n=>typeof n=="string"):[];return a(t.map(n=>({name:n,id:n})))}catch{return[]}}function u(o){try{const r=o.map(e=>({name:String(e.name??"").trim(),id:String(e.id??"").trim()})).filter(e=>e.name.length>0&&e.id.length>0),t=new Set,n=[];for(const e of r){const c=e.id.toLowerCase();t.has(c)||(t.add(c),n.push(e))}const s=a(n);localStorage.setItem(m,JSON.stringify(s))}catch{}}function l(o){const r=p(),t=new Map;for(const n of r)t.set(n.id.toLowerCase(),n);for(const n of o){const s=String(n.name??"").trim(),e=String(n.id??"").trim();!s||!e||t.set(e.toLowerCase(),{name:s,id:e})}u(Array.from(t.values()))}export{d as _,l as a,p as g,u as s};
