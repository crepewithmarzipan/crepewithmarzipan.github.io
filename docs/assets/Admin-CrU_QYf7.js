const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BqeNKh0y.js","assets/_commonjsHelpers-BosuxZz1.js"])))=>i.map(i=>d[i]);
import{d as Me,r as f,o as ge,w as Ke,c,k as _,C as n,H as w,j as N,D as O,E as We,J as He,F as ie,u as re,L as Ge,M as Ze,_ as qe,b as u}from"./index-DvdM5jzs.js";import{g as h,h as ce,j,f as te,d as se,e as be,c as Qe,b as Ye,i as Xe,_ as et}from"./rosterService-YtrTNk2k.js";const U={};function ue(){const k=U==null?void 0:U.VITE_API_BASE;return k&&k.trim().length?k.trim().replace(/\/$/,""):null}function tt(){const k=String((U==null?void 0:U.VITE_REMOTE_ROSTER)??"").trim();return!!ue()||k==="1"||/^true$/i.test(k)}async function st(){const k=ue();if(!k)throw new Error("VITE_API_BASE not set");const S=await fetch(`${k}/api/roster`,{method:"GET",headers:{Accept:"application/json"}});if(!S.ok)throw new Error(`fetch roster failed: ${S.status}`);const F=await S.json();return(Array.isArray(F==null?void 0:F.roster)?F.roster:[]).filter($=>$&&typeof $.name=="string"&&typeof $.id=="string")}async function nt(k,S){const F=ue();if(!F)throw new Error("VITE_API_BASE not set");const d=await fetch(`${F}/api/roster`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json","x-admin-token":S||""},body:JSON.stringify({roster:k})});if(!d.ok){const $=await d.text().catch(()=>"");throw new Error(`save roster failed: ${d.status} ${$}`)}}const at={class:"admin"},ot={key:0,class:"inapp-banner",role:"status","aria-live":"polite"},lt={class:"inapp-banner__inner"},it={class:"inapp-banner__msg"},rt={key:1,class:"gate"},ct={class:"row"},ut={key:2,class:"section"},dt={class:"grid"},pt={class:"panel"},vt={class:"list"},ft={key:0,class:"empty"},ht={class:"meta"},mt=["title"],yt=["title"],gt=["onClick"],bt={key:1,class:"fixed",title:"Always present"},wt={class:"panel"},Ct={class:"row"},kt={class:"row",style:{"margin-top":"8px"}},St={style:{display:"flex","align-items":"center",gap:"8px"}},_t={class:"row"},Ft={class:"row"},Et=["disabled"],Rt={key:0},xt={class:"row"},At={class:"muted",style:{"margin-left":"8px"}},It={key:0,class:"row",style:{"margin-top":"12px"}},Lt=["disabled"],Nt=["disabled"],$t={key:0,class:"muted"},Dt={key:3,class:"section"},jt={class:"panel"},Tt={class:"firebase-status",style:{"margin-bottom":"8px"}},Ot={key:0,class:"status-badge status-online"},zt={key:1,class:"status-badge status-offline"},Bt={class:"muted"},Vt={key:0,class:"muted"},Pt={key:4,class:"section"},Ut={class:"panel"},Jt={class:"firebase-status"},Mt={key:0,class:"status-badge status-online"},Kt={key:1,class:"status-badge status-offline"},Wt={class:"muted"},Ht={key:0},Gt={class:"shoutout-display"},Zt={class:"shoutout-info"},qt={class:"date"},Qt={class:"search-section"},Yt={class:"row"},Xt={key:0,class:"search-results"},es=["onClick"],ts={key:1,class:"selected-section"},ss={class:"row"},ns=["value"],as={class:"row"},os={class:"row"},ls={key:0,class:"json-output"},is=["value"],we="ti.replaceMode",rs=Me({__name:"Admin",setup(k){const S=f(sessionStorage.getItem("ti.admin.ok")==="1"),F=f(""),d=f(h().filter(t=>t.id.toLowerCase()!=="crepewithmarzipan")),$=typeof localStorage<"u"?localStorage.getItem(we):null,x=f($==="1"),Z=f(""),q=f(""),J=f(""),Q=f([]),A=f(!1);let M=null;const Y=f(tt()),X=f(""),m=f(""),T=f(null),K=f(""),W=f(""),z=f([]),I=f(null),B=f(""),H=f(""),ee=f(""),y=f(Xe()),ne=f(!1),ae=f("");function g(t){ae.value=t,ne.value=!0}function Ce(){ne.value=!1,ae.value=""}ge(()=>{$===null&&(x.value=!1)}),Ke(x,t=>{try{localStorage.setItem(we,t?"1":"0")}catch{}});function ke(t,e){const s=i=>{const v=new Map;for(const a of i||[]){const b=String((a==null?void 0:a.id)||"").trim().toLowerCase();let C=String((a==null?void 0:a.name)||"").trim();b&&(C||(C=b),v.set(b,{id:b,name:C}))}const L="crepewithmarzipan";return v.has(L)||v.set(L,{id:L,name:L}),Array.from(v.values())},o=s(t),l=s(e),r=new Set(o.map(i=>i.id)),p=new Set(l.map(i=>i.id));let E=0,R=0;for(const i of p)r.has(i)||E++;for(const i of r)p.has(i)||R++;return{addCount:E,removeCount:R}}const de=["for their positive energy today!","for the amazing feedback!","for the loyal community support!","for the creative ideas!","for the motivating behavior!","for the helpful collaboration!","for the great contribution to the community!","for the inspiring presence!","for the engagement and enthusiasm!","for the friendly nature!"];function pe(){if(F.value===String("2410"))S.value=!0,sessionStorage.setItem("ti.admin.ok","1"),Y.value&&me(),y.value&&he();else try{window.alert("Wrong PIN")}catch{}}function D(t){let e=String(t||"").normalize("NFKC");return e=e.replace(/^@+/,""),e=e.replace(/[\u200B-\u200D\u2060\uFEFF]/g,""),e=e.replace(/\u2026/g,"..."),e=e.replace(/[\u2010-\u2015\u2212]/g,"-"),e=e.replace(/\s+/g,""),e.trim()}function Se(t){try{return/^[\p{L}\p{N}._-]+$/u.test(t)}catch{return/^[A-Za-z0-9._-]+$/.test(t)}}function V(t,e){let s=String(t||"").normalize("NFKC").replace(/[\u200B-\u200D\u2060\uFEFF]/g,"").trim();return s=s.replace(/\s+/g," ").trim(),s||e}function P(t,e){const s=[],o=new Set;for(const l of t||[]){const r=D(String((l==null?void 0:l.id)||""));if(!r||!Se(r)){e==null||e.push({line:String((l==null?void 0:l.id)||""),reason:"bad-id"});continue}const p=r,E=V(String((l==null?void 0:l.name)||"").trim(),p);if(o.has(p.toLowerCase())){e==null||e.push({line:p,reason:"duplicate-id"});continue}o.add(p.toLowerCase()),s.push({id:p,name:E})}return s}function _e(){const t=Z.value.trim(),e=D(q.value);if(!e)return;const s=t||e;if(e.toLowerCase()!=="crepewithmarzipan"){ce([{name:s,id:e}]),d.value=h().filter(o=>o.id.toLowerCase()!=="crepewithmarzipan"),Z.value="",q.value="";try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"ships"}}))}catch{}}}function ve(t,e){const s=[],o=r=>{try{return/^[\p{L}\p{N}._-]+$/u.test(r)}catch{return/^[A-Za-z0-9._-]+$/.test(r)}},l=String(t||"").replace(/\r\n/g,`
`).split(/\n\s*\n+/).map(r=>r.trim()).filter(r=>r.length>0);for(const r of l){const p=r.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(p.length===0)continue;const E=p.length===1?p[0]:"";if(E){const i=E;if(/\t{2,}/.test(i)){const a=i.split(/\t{2,}/);if(a.length>=2){const b=a.slice(0,-1).join("  ").trim(),C=a[a.length-1].trim(),G=D(C);if(o(G)){s.push({name:V(b,G),id:G});continue}}}if(i.includes(",")){const a=i.split(",");if(a.length>=2){const b=String(a.slice(0,-1).join(",")??"").trim(),C=String(a[a.length-1]??"");if(!/\s/.test(C)){const G=C.trim(),le=D(G);if(o(le)){s.push({name:V(b,le),id:le});continue}}}}if(i.includes("	")){const a=i.split("	").map(b=>b.trim()).filter(Boolean);if(a.length>=2){const b=D(a[a.length-1]);if(o(b)){const C=a.slice(0,-1).join(" ").trim();s.push({name:V(C,b),id:b});continue}}}const v=i.split(/[\t ]+/);if(v.length>=2){const a=D(v[v.length-1]||"");if(o(a)){const b=v.slice(0,-1).join(" ").trim(),C=a;if(C){s.push({name:V(b,C),id:C});continue}}}const L=D(i);if(o(L)){s.push({name:L,id:L});continue}e==null||e.push({line:i,reason:"ignored"});continue}const R=D(p[p.length-1]);if(o(R)){const i=V(p.slice(0,-1).join(" "),R);s.push({name:i,id:R})}else e==null||e.push({line:p.join(" | "),reason:"ignored"})}return P(s,e)}function Fe(){const t=[],e=ve(J.value,t);if(!e.length)return;const s=[],o=P(e,s).filter(l=>l.id.toLowerCase()!=="crepewithmarzipan");x.value?(j(o),d.value=h().filter(l=>l.id.toLowerCase()!=="crepewithmarzipan")):(ce(o),d.value=h().filter(l=>l.id.toLowerCase()!=="crepewithmarzipan"));try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"ships"}}))}catch{}try{const l=d.value.length,r=String(J.value||"").replace(/\r\n/g,`
`).split(/\n\s*\n+/).map(v=>v.trim()).filter(v=>v.length>0).length,p=((t==null?void 0:t.length)||0)+((s==null?void 0:s.length)||0),E=[...t||[],...s||[]].filter(v=>v.reason==="bad-id").length,R=[...t||[],...s||[]].filter(v=>v.reason==="duplicate-id").length,i=[...t||[],...s||[]].filter(v=>v.reason==="ignored").length;if(g(`Expected (by blocks): ${r}. Imported: ${o.length}. Current: ${l}. Skipped: ${p} (bad-id: ${E}, dup: ${R}, ignored: ${i})`),p>0){const v=[...t||[],...s||[]].slice(0,10);console.log("Import diagnostics (first 10):",v)}}catch{}}function Ee(){J.value=""}function Re(t){const e=t.target;Q.value=Array.from(e.files||[])}async function xe(){if(Q.value.length){if(!M)try{M=await qe(()=>import("./index-BqeNKh0y.js").then(t=>t.i),__vite__mapDeps([0,1]))}catch{M=null}if(M){A.value=!0;try{const t=[];for(const l of Q.value){const{data:r}=await M.recognize(l,"eng");t.push((r==null?void 0:r.text)||"")}const s=t.join(`
`).replace(/[@#]/g,"").replace(/[^\p{L}\p{N} _.,\n\-]/gu," "),o=ve(s);x.value?(j(P(o)),d.value=h()):(ce(P(o)),d.value=h())}finally{A.value=!1}}}}function Ae(t){d.value.splice(t,1),j([{name:"crepewithmarzipan",id:"crepewithmarzipan"},...d.value]);try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"ships"}}))}catch{}}async function oe(){j(d.value),m.value="Saved (local fallback updated).";const t=h();try{if(y.value){m.value="Saving to Firebase...";const e=await se(t);m.value=e?"Saved to Firebase.":"Firebase save failed.",g(e?"Roster saved to Firebase. Local fallback also updated.":"Firebase save failed. Check console and config.")}else g("Saved locally. Firebase not configured â€” skipped cloud update.")}catch(e){console.log("Firebase save error:",e),m.value=`Firebase error: ${(e==null?void 0:e.message)||e}`,g("Firebase error while saving. See console for details.")}try{await $e()}catch{}try{fe()}catch{}}async function Ie(){var l;let t=[];try{t=y.value?await te():h()}catch{t=h()}const e=h(),{addCount:s,removeCount:o}=ke(t,e);if(g(`Apply to ships: geplant +${s} / -${o} (Save + 24h)`),await oe(),y.value)try{await se(e)}catch{}if(y.value)try{const r=new Set(t.map(a=>a.id)),p=new Set(e.map(a=>a.id)),E=new Map(e.map(a=>[a.id,a.name])),R=[],i=[],v=Date.now()+24*60*60*1e3;for(const a of p)r.has(a)||R.push({id:a,name:E.get(a)||a,kind:"arrival",matureAt:v});for(const a of r)if(!p.has(a)){const b=((l=t.find(C=>C.id===a))==null?void 0:l.name)||a;i.push({id:a,name:b,kind:"departure",matureAt:v})}const L=[...R,...i];await be(L)}catch{}try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"ships"}}))}catch{}}async function Le(){if(await oe(),y.value)try{await be([])}catch{}try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"overwrite"}}))}catch{}g("Applied now: island overwritten with current selection.")}async function Ne(){if(await oe(),y.value)g("Saved roster to database.");else{try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h(),mode:"ships"}}))}catch{}g("Saved locally and preview applied to ships (Firebase not configured).")}}async function $e(){const t=window;if(!t.showSaveFilePicker)throw new Error("no-fs-api");const e={roster:d.value},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),l=await(await t.showSaveFilePicker({suggestedName:"roster.json",types:[{description:"JSON",accept:{"application/json":[".json"]}}]})).createWritable();await l.write(s),await l.close()}async function De(){if(d.value=[],j([]),y.value)try{const t=await se([]);m.value=t?"Cleared in Firebase.":"Firebase clear failed.",g(t?"Roster cleared in Firebase and locally.":"Cleared locally, but Firebase clear failed.")}catch(t){console.log("Firebase clear error:",t),m.value=`Firebase error: ${(t==null?void 0:t.message)||t}`,g("Error clearing Firebase roster. See console.")}else g("Cleared locally. Firebase not configured â€” skipped cloud update.")}function fe(){const t={roster:d.value},e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),o=document.createElement("a");o.href=s,o.download="roster.json",document.body.appendChild(o),o.click(),setTimeout(()=>{URL.revokeObjectURL(s),document.body.removeChild(o)},0)}function je(t){const e=t.target,s=e.files&&e.files[0];if(!s)return;const o=new FileReader;o.onload=()=>{try{const l=JSON.parse(String(o.result||"{}")),r=Array.isArray(l==null?void 0:l.roster)?l.roster:[];if(r.length){if(x.value)j(P(r)),d.value=h();else{const p=P([...h(),...r]);j(p),d.value=h()}try{window.dispatchEvent(new CustomEvent("ti:applyRoster",{detail:{roster:h()}}))}catch{}}}catch{}},o.readAsText(s)}async function he(){if(y.value)try{const t=await te();Array.isArray(t)&&t.length?(d.value=t.filter(e=>e.id.toLowerCase()!=="crepewithmarzipan"),g(`Loaded roster from Firebase (${t.length}).`)):g("Firebase roster is empty or unavailable.")}catch(t){console.log("Load Firebase roster error:",t),g("Error loading Firebase roster. See console.")}}ge(()=>{S.value&&y.value&&he()});async function me(){if(Y.value){A.value=!0,m.value="Loading server rosterâ€¦";try{const t=await st();Array.isArray(t)&&t.length?(d.value=t,j(t),m.value=`Loaded (${t.length})`):m.value="Server roster empty"}catch(t){m.value=`Error: ${(t==null?void 0:t.message)||t}`}finally{A.value=!1}}}async function Te(){if(Y.value){A.value=!0,m.value="Saving to serverâ€¦";try{await nt(d.value,X.value),m.value="Saved."}catch(t){m.value=`Error: ${(t==null?void 0:t.message)||t}`}finally{A.value=!1}}}async function Oe(){if(y.value)try{const t=await Qe();if(t){T.value=t.shoutout,K.value=t.date;return}}catch(t){console.log("Firebase error:",t)}try{const e=await fetch("/daily-shoutout.json",{cache:"no-cache"});if(e.ok){const s=await e.json();T.value=s.shoutout,K.value=s.date}}catch{const e=localStorage.getItem("dailyShoutout");if(e)try{const s=JSON.parse(e);T.value=s.shoutout,K.value=s.date}catch{}}}async function ze(){if(m.value="Testing Firebaseâ€¦",!y.value){g("Firebase is not configured. Set VITE_FIREBASE_* in .env.local"),m.value="Firebase not configured";return}try{const t=await te(),e=await se(h()),s=await te();m.value=e?`OK. Read ${t.length} â†’ Wrote ${h().length} â†’ Read ${s.length}`:"Write failed",g(e?"Firebase connection OK.":"Firebase write failed. Check Firestore rules/permissions.")}catch(t){console.log("Firebase test error",t),m.value=`Error: ${(t==null?void 0:t.message)||t}`,g("Firebase test failed. See console for details.")}}function Be(){const t=W.value.toLowerCase().trim();if(!t){z.value=[];return}const e=h().filter(s=>s.id.toLowerCase()!=="crepewithmarzipan");z.value=e.filter(s=>s.name.toLowerCase().includes(t)||s.id.toLowerCase().includes(t)).slice(0,10)}function Ve(t){I.value=t,B.value=de[0],W.value="",z.value=[]}function ye(){I.value=null,B.value="",H.value="",W.value="",z.value=[],ee.value=""}function Pe(){const t=(H.value||"").trim()||B.value;if(!I.value||!t)return;const s={date:new Date().toDateString(),shoutout:{name:I.value.name,reason:t,followerId:I.value.id}};ee.value=JSON.stringify(s,null,2)}function Ue(t){const e=t.target;e.select(),e.setSelectionRange(0,99999)}async function Je(){const t=(H.value||"").trim()||B.value;if(!I.value||!t)return;const e={name:I.value.name,reason:t,followerId:I.value.id},s=new Date().toDateString();await Ye({date:s,shoutout:e})?(T.value=e,K.value=s,alert(`ðŸ”¥ Live shout-out set for ${e.name}! All users will see it instantly.`)):alert("âŒ Failed to save to Firebase. Check your connection and config."),ye()}return S.value&&Oe(),(t,e)=>(u(),c("div",at,[ne.value?(u(),c("div",ot,[n("div",lt,[n("div",it,w(ae.value),1),n("div",{class:"inapp-banner__actions"},[n("button",{class:"inapp-banner__ok",onClick:Ce},"OK")])])])):_("",!0),e[27]||(e[27]=n("h1",null,"Admin",-1)),S.value?(u(),c("section",ut,[e[19]||(e[19]=n("h2",null,"Roster",-1)),n("div",dt,[n("div",pt,[e[11]||(e[11]=He('<h3 data-v-3abb91b2>My profile (always present)</h3><div class="list" data-v-3abb91b2><div class="item" data-v-3abb91b2><div class="meta" data-v-3abb91b2><strong class="name" data-v-3abb91b2>crepewithmarzipan</strong><small class="id" data-v-3abb91b2>crepewithmarzipan</small></div><span class="fixed" title="Always present" data-v-3abb91b2>fixed</span></div></div><h3 style="margin-top:12px;" data-v-3abb91b2>Others</h3>',3)),n("h3",null,"Current list ("+w(d.value.length)+")",1),n("div",vt,[d.value.length?_("",!0):(u(),c("div",ft,"No entries yet. Add people above.")),(u(!0),c(ie,null,re(d.value,(s,o)=>(u(),c("div",{key:s.id+":"+o,class:"item"},[n("div",ht,[n("strong",{class:"name",title:s.name},w(s.name),9,mt),n("small",{class:"id",title:s.id},w(s.id),9,yt)]),s.id!=="crepewithmarzipan"?(u(),c("button",{key:0,class:"remove",onClick:l=>Ae(o),title:"Remove"},"âœ•",8,gt)):(u(),c("span",bt,"fixed"))]))),128))])]),n("div",wt,[e[13]||(e[13]=n("h3",null,"Add",-1)),n("div",Ct,[N(n("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>Z.value=s),placeholder:"Name"},null,512),[[O,Z.value]]),N(n("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>q.value=s),placeholder:"ID/Handle"},null,512),[[O,q.value]]),n("button",{onClick:_e},"Add")]),e[14]||(e[14]=n("small",{class:"muted"},"Duplicates are removed by ID.",-1)),n("div",kt,[n("label",St,[N(n("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>x.value=s),autocomplete:"off"},null,512),[[Ge,x.value]]),e[12]||(e[12]=n("span",null,"Replace existing list on import",-1))])]),e[15]||(e[15]=n("h3",{style:{"margin-top":"16px"}},"Bulk",-1)),N(n("textarea",{"onUpdate:modelValue":e[4]||(e[4]=s=>J.value=s),rows:"10",placeholder:"Supported formats:\\nâ€¢ Name,ID\\nâ€¢ Name ID\\nâ€¢ Two lines: Name\\n  next line: ID\\n\\nExample:\\nAlice\\nalice_id\\n\\nBob, bob_id"},null,512),[[O,J.value]]),n("div",_t,[n("button",{onClick:Fe},w(x.value?"Import (replace)":"Import (merge)"),1),n("button",{onClick:Ee},"Clear")]),e[16]||(e[16]=n("h3",{style:{"margin-top":"16px"}},"OCR (screenshots)",-1)),n("div",Ft,[n("input",{type:"file",accept:"image/*",multiple:"",onChange:Re},null,32),n("button",{disabled:A.value||Q.value.length===0,onClick:xe},w(x.value?"Run OCR (replace)":"Run OCR (merge)"),9,Et),A.value?(u(),c("span",Rt,"â€¦recognizingâ€¦")):_("",!0)]),e[17]||(e[17]=n("div",{class:"row",style:{"margin-top":"12px"}},null,-1)),e[18]||(e[18]=n("h3",{style:{"margin-top":"16px"}},"Export/Import JSON",-1)),n("div",xt,[n("button",{onClick:fe},"Download roster.json"),n("input",{type:"file",accept:"application/json",onChange:je},null,32),n("small",At,w(x.value?"Import replaces existing list":"Import merges with existing list"),1)]),Y.value?(u(),c("div",It,[N(n("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>X.value=s),placeholder:"Admin token (from server)"},null,512),[[O,X.value]]),n("button",{disabled:A.value,onClick:me},"Load server",8,Lt),n("button",{disabled:A.value||!X.value,onClick:Te},"Save server",8,Nt),m.value?(u(),c("small",$t,w(m.value),1)):_("",!0)])):_("",!0)])])])):(u(),c("div",rt,[e[9]||(e[9]=n("h2",null,"Admin PIN",-1)),n("div",ct,[N(n("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>F.value=s),type:"password",placeholder:"PIN",onKeyup:We(pe,["enter"])},null,544),[[O,F.value]]),n("button",{onClick:pe},"Open")]),e[10]||(e[10]=n("small",{class:"muted"},'Set VITE_ADMIN_PIN in .env.local (default: "admin").',-1))])),S.value?(u(),c("section",Dt,[e[21]||(e[21]=n("h2",null,"Apply & Save",-1)),n("div",jt,[n("div",Tt,[y.value?(u(),c("span",Ot,"ðŸ”¥ Firebase Connected")):(u(),c("span",zt,"âš ï¸ Firebase Not Configured")),n("small",Bt,w(y.value?"Roster writes will sync to Firestore":"Set VITE_FIREBASE_* in .env.local to enable Firestore writes"),1)]),e[20]||(e[20]=n("p",{class:"muted"},"Choose how to apply your selection: put diffs on ships (24h) or overwrite the island instantly.",-1)),n("div",{class:"row"},[n("button",{class:"apply",onClick:Ie,title:"Visualize diffs on ships (24h), do not change island instantly"},"Apply to ships (Save + 24h)"),n("button",{class:"apply",onClick:Le,title:"Overwrite island instantly with current selection (no ships)"},"Apply now (Overwrite)"),n("button",{onClick:Ne,title:"Write roster to DB without applying to island"},"Save only"),n("button",{class:"danger",onClick:De,title:"Clear roster in database"},"Clear Roster (DB)"),n("button",{style:{"margin-left":"auto"},onClick:ze},"Test Firebase")]),m.value?(u(),c("small",Vt,w(m.value),1)):_("",!0)])])):_("",!0),S.value?(u(),c("section",Pt,[e[26]||(e[26]=n("h2",null,"Daily Shout-out",-1)),n("div",Ut,[n("div",Jt,[y.value?(u(),c("span",Mt,"ðŸ”¥ Firebase Connected")):(u(),c("span",Kt,"âš ï¸ Firebase Not Configured")),n("small",Wt,w(y.value?"Changes sync to all users instantly":"Using local fallback - add Firebase config for real-time sync"),1)]),T.value?(u(),c("div",Ht,[e[22]||(e[22]=n("h3",null,"Current Daily Shout-out",-1)),n("div",Gt,[n("div",Zt,[n("strong",null,w(T.value.name),1),n("small",null,w(T.value.reason),1),n("small",qt,w(K.value),1)])])])):_("",!0),e[25]||(e[25]=n("h3",{style:{"margin-top":"16px"}},"Set New Shout-out",-1)),n("div",Qt,[n("div",Yt,[N(n("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>W.value=s),placeholder:"Search follower by name...",onInput:Be},null,544),[[O,W.value]])]),z.value.length?(u(),c("div",Xt,[(u(!0),c(ie,null,re(z.value,s=>(u(),c("div",{key:s.id,class:"search-item",onClick:o=>Ve(s)},[n("strong",null,w(s.name),1),n("small",null,w(s.id),1)],8,es))),128))])):_("",!0)]),I.value?(u(),c("div",ts,[n("h4",null,"Selected: "+w(I.value.name),1),n("div",ss,[N(n("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>B.value=s)},[(u(),c(ie,null,re(de,s=>n("option",{key:s,value:s},w(s),9,ns)),64))],512),[[Ze,B.value]])]),n("div",as,[N(n("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>H.value=s),placeholder:"Personal reason (optional) â€“ will override the dropdown if filled"},null,512),[[O,H.value]])]),n("div",os,[y.value?(u(),c("button",{key:0,onClick:Je,class:"apply"},"Set Live Shout-out")):(u(),c("button",{key:1,onClick:Pe,class:"apply"},"Generate JSON Code")),n("button",{onClick:ye},"Cancel")]),ee.value&&!y.value?(u(),c("div",ls,[e[23]||(e[23]=n("h4",null,"Copy this to public/daily-shoutout.json:",-1)),n("textarea",{readonly:"",value:ee.value,onClick:Ue,class:"json-code"},null,8,is),e[24]||(e[24]=n("small",{class:"muted"},"Click textarea to select all, then Ctrl+C to copy",-1))])):_("",!0)])):_("",!0)])])):_("",!0)]))}}),ds=et(rs,[["__scopeId","data-v-3abb91b2"]]);export{ds as default};
